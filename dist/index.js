import discord from "discord.js";
import "dotenv/config";
for (const key of ["BOT_TOKEN", "BOT_PREFIX", "BOT_OWNER"]) {
  if (!process.env[key] || /^{{.+}}$/.test(process.env[key])) {
    throw new Error(`You need to add "${key}" value in your .env file.`);
  }
}
const client = new discord.Client({
  intents: process.env.BOT_INTENTS ? process.env.BOT_INTENTS.split(",").map((intent) => discord.Intents.FLAGS[intent]) : []
});
(async () => {
  const app = await import("./app.js");
  try {
    await app.tableHandler.load(client);
    await app.commandHandler.load(client);
    await app.listenerHandler.load(client);
    await client.login(process.env.BOT_TOKEN);
    if (!app.isFullClient(client)) {
      app.error("The Discord client is not full.", "index");
      client.destroy();
      process.exit(1);
    }
  } catch (error) {
    app.error(error, "index", true);
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgZGlzY29yZCBmcm9tIFwiZGlzY29yZC5qc1wiXHJcbmltcG9ydCB0eXBlIHsgRnVsbENsaWVudCB9IGZyb20gXCIuL2FwcC5qc1wiXHJcblxyXG5pbXBvcnQgXCJkb3RlbnYvY29uZmlnXCJcclxuXHJcbmZvciAoY29uc3Qga2V5IG9mIFtcIkJPVF9UT0tFTlwiLCBcIkJPVF9QUkVGSVhcIiwgXCJCT1RfT1dORVJcIl0pIHtcclxuICBpZiAoIXByb2Nlc3MuZW52W2tleV0gfHwgL157ey4rfX0kLy50ZXN0KHByb2Nlc3MuZW52W2tleV0gYXMgc3RyaW5nKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBZb3UgbmVlZCB0byBhZGQgXCIke2tleX1cIiB2YWx1ZSBpbiB5b3VyIC5lbnYgZmlsZS5gKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY2xpZW50ID0gbmV3IGRpc2NvcmQuQ2xpZW50KHtcclxuICBpbnRlbnRzOiBwcm9jZXNzLmVudi5CT1RfSU5URU5UU1xyXG4gICAgPyBwcm9jZXNzLmVudi5CT1RfSU5URU5UUy5zcGxpdChcIixcIikubWFwKFxyXG4gICAgICAgIChpbnRlbnQpID0+IGRpc2NvcmQuSW50ZW50cy5GTEFHU1tpbnRlbnQgYXMgZGlzY29yZC5JbnRlbnRzU3RyaW5nXVxyXG4gICAgICApXHJcbiAgICA6IFtdLFxyXG59KVxyXG5cclxuOyhhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgYXBwID0gYXdhaXQgaW1wb3J0KFwiLi9hcHAuanNcIilcclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGFwcC50YWJsZUhhbmRsZXIubG9hZChjbGllbnQgYXMgRnVsbENsaWVudClcclxuICAgIGF3YWl0IGFwcC5jb21tYW5kSGFuZGxlci5sb2FkKGNsaWVudCBhcyBGdWxsQ2xpZW50KVxyXG4gICAgYXdhaXQgYXBwLmxpc3RlbmVySGFuZGxlci5sb2FkKGNsaWVudCBhcyBGdWxsQ2xpZW50KVxyXG5cclxuICAgIGF3YWl0IGNsaWVudC5sb2dpbihwcm9jZXNzLmVudi5CT1RfVE9LRU4pXHJcblxyXG4gICAgaWYgKCFhcHAuaXNGdWxsQ2xpZW50KGNsaWVudCkpIHtcclxuICAgICAgYXBwLmVycm9yKFwiVGhlIERpc2NvcmQgY2xpZW50IGlzIG5vdCBmdWxsLlwiLCBcImluZGV4XCIpXHJcbiAgICAgIGNsaWVudC5kZXN0cm95KClcclxuICAgICAgcHJvY2Vzcy5leGl0KDEpXHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgYXBwLmVycm9yKGVycm9yLCBcImluZGV4XCIsIHRydWUpXHJcbiAgfVxyXG59KSgpXHJcbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBO0FBR0E7QUFFQSxXQUFXLE9BQU8sQ0FBQyxhQUFhLGNBQWMsY0FBYztBQUMxRCxNQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsV0FBVyxLQUFLLFFBQVEsSUFBSSxPQUFpQjtBQUNwRSxVQUFNLElBQUksTUFBTSxvQkFBb0I7QUFBQTtBQUFBO0FBSXhDLE1BQU0sU0FBUyxJQUFJLFFBQVEsT0FBTztBQUFBLEVBQ2hDLFNBQVMsUUFBUSxJQUFJLGNBQ2pCLFFBQVEsSUFBSSxZQUFZLE1BQU0sS0FBSyxJQUNqQyxDQUFDLFdBQVcsUUFBUSxRQUFRLE1BQU0sV0FFcEM7QUFBQTtBQUdMLEFBQUMsYUFBWTtBQUNaLFFBQU0sTUFBTSxNQUFNLE9BQU87QUFFekIsTUFBSTtBQUNGLFVBQU0sSUFBSSxhQUFhLEtBQUs7QUFDNUIsVUFBTSxJQUFJLGVBQWUsS0FBSztBQUM5QixVQUFNLElBQUksZ0JBQWdCLEtBQUs7QUFFL0IsVUFBTSxPQUFPLE1BQU0sUUFBUSxJQUFJO0FBRS9CLFFBQUksQ0FBQyxJQUFJLGFBQWEsU0FBUztBQUM3QixVQUFJLE1BQU0sbUNBQW1DO0FBQzdDLGFBQU87QUFDUCxjQUFRLEtBQUs7QUFBQTtBQUFBLFdBRVIsT0FBUDtBQUNBLFFBQUksTUFBTSxPQUFPLFNBQVM7QUFBQTtBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo=
